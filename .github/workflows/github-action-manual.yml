name: GitHub Actions Manual
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
on:
  workflow_dispatch:
    inputs:
      environment:
        description: 'Environment to deploy to (e.g., staging, production)'
        required: true
        default: 'staging'
      deploy_app:
        type: boolean
        description: 'Deploy App changes'
        required: true
        default: false
      deploy_bff:
        type: boolean
        description: 'Deploy Bff changes'
        required: true
        default: false
jobs:
  appBuild:
    if: ${{ github.event.inputs.deploy_app == 'true' }}
    runs-on: ubuntu-latest
    steps:
      - run: echo â€œğŸ‰ APP build successful for ${{ github.event_name }} event.â€
  bffBuild:
    if: ${{ github.event.inputs.deploy_bff == 'true' }}
    runs-on: ubuntu-latest
    steps:
      - run: echo â€œğŸ‰ BFF build successful for ${{ github.event_name }} event.â€
  app-deploy-without-bff:
    needs: [appBuild]
    if: (github.event.inputs.deploy_app == 'true' && github.event.inputs.deploy_bff == 'false')
    runs-on: ubuntu-latest
    steps:
      - run: echo â€œğŸ‰ App deployment without bff successful for ${{ github.event_name }}.
  app-deploy:
    needs: [ appBuild, bffBuild ]
    if: (needs.appBuild.result == 'success' && needs.bffBuild.result == 'success')
    runs-on: ubuntu-latest
    steps:
      - run: echo â€œğŸ‰ App deployment with bff successful for ${{ github.event_name }}.
  bff-deploy:
    needs: [ appBuild, bffBuild ]
    if: (needs.appBuild.result == 'success' && needs.bffBuild.result == 'success')
    runs-on: ubuntu-latest
    steps:
      - run: echo â€œğŸ‰ BFF deployment with bff successful for ${{ github.event_name }}.
  bff-deploy-without-app:
    needs: [bffBuild]
    if: (github.event.inputs.deploy_app == 'false' && github.event.inputs.deploy_bff == 'true')
    runs-on: ubuntu-latest
    steps:
      - run: echo â€œğŸ‰ BFF deployment without app successful for ${{ github.event_name }}.â€
